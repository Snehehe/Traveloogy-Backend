<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Create Travel Package</title>
</head>
<body>

<h1>Create Package</h1>

<form id="packageForm">
    Title:<br><input id="title"><br><br>
    Description:<br><input id="description"><br><br>
    Base Price:<br><input id="basePrice" type="number"><br><br>
    Discount %:<br><input id="discountPercent" type="number" value="0"><br><br>
    Destination ID:<br><input id="destinationId" type="number"><br><br>
    Flight ID:<br><input id="flightId" type="number"><br><br>
    Stay ID:<br><input id="stayId" type="number"><br><br>
    <button type="submit">Create</button>
</form>

<p id="msg"></p>

<script>
document.getElementById("packageForm").addEventListener("submit", async (e) => {
    e.preventDefault();

    const body = {
        title: title.value,
        description: description.value,
        basePrice: parseFloat(basePrice.value),
        discountPercent: parseFloat(discountPercent.value),
        destinationId: Number(destinationId.value),
        flightId: Number(flightId.value),
        stayId: Number(stayId.value)
    };

    let res = await fetch("/api/packages", {
        method: "POST",
        headers: {"Content-Type":"application/json"},
        body: JSON.stringify(body)
    });

    msg.textContent = res.ok ? "✔ Created!" : "❌ Error";
});
</script>

</body>
</html>
