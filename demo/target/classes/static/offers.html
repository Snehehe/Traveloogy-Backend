<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Travel Offers</title>
</head>
<body>

<h1>Available Packages</h1>

<div id="list"></div>

<script>
async function loadPackages() {
    let res = await fetch("/api/packages");
    let data = await res.json();

    list.innerHTML = "";

    data.forEach(p => {
        const finalPrice = p.basePrice * (1 - (p.discountPercent || 0) / 100);

        list.innerHTML += `
            <div style="border:1px solid #ccc; padding:10px; margin:10px;">
                <h2>${p.title}</h2>
                ${p.description}<br>
                Base: $${p.basePrice}<br>
                Discount: ${p.discountPercent}%<br>
                Final Price: $${finalPrice.toFixed(2)}<br>
                Destination: ${p.destination ? p.destination.name : "None"}
            </div>
        `;
    });
}

loadPackages();
</script>

</body>
</html>
