<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Create New Travel Package</title>
</head>
<body>

<h1>Create New Travel Package</h1>

<form id="packageForm">
    <p>
        <label>Title:</label><br>
        <input type="text" id="title" required>
    </p>

    <p>
        <label>Description:</label><br>
        <input type="text" id="description" required>
    </p>

    <p>
        <label>Base Price:</label><br>
        <input type="number" step="0.01" id="basePrice" required>
    </p>

    <p>
        <label>Destination ID:</label><br>
        <input type="number" id="destinationId" required>
    </p>

    <button type="submit">Add Package</button>
</form>

<p id="status"></p>

<script>
document.getElementById("packageForm").addEventListener("submit", async (e) => {
    e.preventDefault();

    const data = {
        title: document.getElementById("title").value,
        description: document.getElementById("description").value,
        basePrice: parseFloat(document.getElementById("basePrice").value),
        destination: {
            id: parseInt(document.getElementById("destinationId").value)
        }
    };

    console.log("Sending JSON:", data);  // DEBUG OUTPUT

    const response = await fetch("/api/packages", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data)
    });

    if (response.ok) {
        document.getElementById("status").innerHTML =
            "✔ Package added successfully!";
    } else {
        document.getElementById("status").innerHTML =
            "❌ Error adding package.";
    }
});
</script>


</body>
</html>
